<div class="product-wrapper">
  <!-- BAL OLDAL - Kattintható kép -->
  <div class="left clickable" (click)="viewProductDetails()">
    <img [src]="product().imageUrl" [alt]="product().name" (error)="onImageError($event)" />
    <div class="image-overlay">
      <i class="fa-solid fa-magnifying-glass"></i>
      <span>Részletek</span>
    </div>
  </div>

  <!-- JOBB OLDAL - Infók -->
  <div class="right">
    <div class="product-desc">
      <h2 class="clickable-title" (click)="viewProductDetails()">
        {{ product().name }}
      </h2>
      <h3>Article Number: {{ product().sku }}</h3>
      <ul>
        @for (detail of productDetails(); track $index) {
          <li>{{ detail.label }}: {{ detail.value }}</li>
        }
      </ul>
    </div>

    <div class="price-section">
      <h3 class="price">{{ product().price }} Ft</h3>
    </div>

    <div class="button-container">
      <div class="quantity-controls">
        <button type="button" class="quantity-btn decrease" (click)="decreaseQuantity()">
          <i class="fa-solid fa-angle-down"></i>
        </button>
        <span class="quantity-display">{{ quantity() }}</span>
        <button type="button" class="quantity-btn increase" (click)="increaseQuantity()">
          <i class="fa-solid fa-angle-up"></i>
        </button>
      </div>

      <!-- ⭐ Kosárba gomb - visszajelzéssel -->
      <button
        type="button"
        class="add-to-cart-btn"
        [class.added]="addedToCart()"
        (click)="addToCart()"
        [title]="addedToCart() ? 'Hozzáadva!' : 'Kosárba'"
      >
        @if (addedToCart()) {
          <i class="fa-solid fa-check"></i>
        } @else {
          <i class="fa-solid fa-cart-shopping"></i>
        }
      </button>
    </div>
  </div>
</div>
